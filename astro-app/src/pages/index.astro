---
import Layout from '../layouts/Layout.astro';
import { getPosts, getStartPage } from '../utils/sanity';
import Slider from '../components/Slider.astro';
import FormProvider from '../components/FormProvider.tsx';
import ImageBlock from '../components/ImageBlock';
import TextBlock from '../components/TextBlock.astro';
import CenterTextBlock from '../components/CenterTextBlock.astro';
import PuffBlock from '../components/PuffBlock.astro';
import TextImageBlock from '../components/TextImageBlock.astro';

const startPage = await getStartPage();
---

<Layout title="Antonia & Henrik">
	<!-- HERO -->
	<section class="mx-auto mb-16 mt-4 max-w-container text-center md:mt-32">
		<div class="mb-8">
			<h1 class="mb-2 mt-0 text-5xl font-bold md:text-6xl">{startPage?.title}</h1>
			<p class="text-2xl font-bold">{startPage?.subtitle}</p>
		</div>
		<Slider />
	</section>

	{
		startPage?.blocks &&
			startPage.blocks.map((block) => {
				if (block._type == 'imageBlock') {
					return <ImageBlock block={block} />;
				} else if (block._type == 'textBlock') {
					return <TextBlock block={block} />;
				} else if (block._type == 'centerTextBlock') {
					return <CenterTextBlock block={block} />;
				} else if (block._type == 'puffBlock') {
					return <PuffBlock block={block} />;
				} else if (block._type == 'textImageBlock') {
					return <TextImageBlock block={block} />;
				}
			})
	}

	<FormProvider client:only="react" />
</Layout>
