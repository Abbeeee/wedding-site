---
import Layout from "../layouts/Layout.astro";
import { getPosts, getStartPage } from "../utils/sanity";
import { urlFor } from "../utils/image";
import { PortableText } from "astro-portabletext";
import Card from "../components/Card.astro";
import Welcome from "../components/Welcome.astro";

const posts = await getPosts();
const startPage = await getStartPage();
---

<Layout title="Antonia & Henrik">

  <!-- HERO -->
  <section class="mx-auto mb-8 text-center">

    <div class="my-4">
      <h1 class="mb-4 font-bold text-5xl">{startPage?.title}</h1>
      <p class="font-bold text-2xl">{startPage?.subtitle}</p>
    </div>
    
    {startPage?.heroImage && (
      <img
        class="col-start-1 row-start-1 w-full h-[400px] object-cover"
        src={urlFor(startPage?.heroImage).width(1024).height(400).url()}
        alt={startPage?.heroImage.alt || ""}
      />
    )}

  </section>

  <section class="mx-auto mb-8">
    <div class="block-content">
      <PortableText value={startPage?.body} />
    </div>
  </section>

  <!-- <section>
    {posts.length ? posts.map((post) => <Card post={post} />) : <Welcome />}
  </section> -->

</Layout>
