---
import Layout from '../layouts/Layout.astro';
import { getPosts, getStartPage } from '../utils/sanity';
import { urlFor } from '../utils/image';
import { PortableText } from 'astro-portabletext';
import Card from '../components/Card.astro';
import Welcome from '../components/Welcome.astro';
import Slider from '../components/Slider.astro';

const posts = await getPosts();
const startPage = await getStartPage();
---

<Layout title="Antonia & Henrik">
	<!-- HERO -->
	<section class="mx-auto mb-16 mt-4 text-center md:mt-20">
		<div class="mb-8">
			<h1 class="mb-2 mt-0 text-5xl font-bold md:text-6xl">{startPage?.title}</h1>
			<p class="text-2xl font-bold">{startPage?.subtitle}</p>
		</div>

		<!-- {
			startPage?.heroImage && (
				<img
					class="col-start-1 row-start-1 w-full h-[400px] object-cover"
					src={urlFor(startPage?.heroImage).width(1024).height(400).url()}
					alt={startPage?.heroImage.alt || ''}
				/>
			)
		} -->

		<Slider />
	</section>

	{
		startPage?.bodyArea && (
			<section class="mx-auto my-20 max-w-2xl">
				<div class="block-content text-pretty text-center [&>h2]:text-4xl md:[&>h2]:text-5xl [&>p]:text-xl md:[&>p]:text-2xl">
					<PortableText value={startPage?.bodyArea} />
				</div>
			</section>
		)
	}

	{
		startPage?.features && (
			<section class="mx-auto my-20 max-w-2xl">
				<div class="">
					{startPage.features.map((feature) => (
						<div class="text-center">
							{feature.title && <h3 class="text-3xl font-bold">{feature.title}</h3>}
							{feature.description && <PortableText value={feature?.description} />}
						</div>
					))}
				</div>
			</section>
		)
	}

	{
		startPage?.bodyArea2 && (
			<section class="mx-auto mb-8">
				<div class="block-content">
					<PortableText value={startPage?.bodyArea2} />
				</div>
			</section>
		)
	}

	<!-- <section>
		{posts.length ? posts.map((post) => <Card post={post} />) : <Welcome />}
	</section> -->
</Layout>
