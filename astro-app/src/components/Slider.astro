---
import { getStartPage } from '../utils/sanity';
import { urlFor } from '../utils/image';
import { Splide, SplideSlide } from 'astro-splide';
import '@splidejs/react-splide/css';

const startPage = await getStartPage();
---

{
	startPage?.heroSlider && (
		<Splide
			options={{
				rewind: true,
				arrows: false,
				pagination: false,
				type: 'fade',
				autoplay: true,
				speed: 2000,
				interval: 4000,
				pauseOnHover: false,
				pauseOnFocus: false
			}}
		>
			{startPage?.heroSlider.images.map((image) => (
				<SplideSlide>
					<img
						class="min-h-[200px] object-cover"
						src={urlFor(image).width(1024).height(420).url()}
						alt={(image.alt as string) || ''}
					/>
				</SplideSlide>
			))}
		</Splide>
	)
}
